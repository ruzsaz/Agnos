"use strict";function HeadPanel(e,d,a){var c=this;this.panelSide=e.group||0;this.mediator=d;this.mediatorIds=[];this.panelDiv=d3.select("#headPanelP"+this.panelSide);this.panelId="#panel"+c.panelSide+"P-1";this.divTableBase=undefined;this.init(a);var b;b=this.mediator.subscribe("killPanel",function(f){c.killPanel(f)});c.mediatorIds.push({channel:"killPanel",id:b.id});b=this.mediator.subscribe("killListeners",function(){c.killListeners()});c.mediatorIds.push({channel:"killListeners",id:b.id});b=this.mediator.subscribe("resize",function(h,g,f,i){c.resize(h,g,i)});c.mediatorIds.push({channel:"resize",id:b.id})}HeadPanel.prototype.panelMargin=global.panelMargin;HeadPanel.prototype.init=function(a){var b=this;if(b.panelDiv.selectAll(".baseDiv").empty()){b.divBase=b.panelDiv.append("html:div").attr("class","baseDiv")}else{b.divBase=b.panelDiv.select(".baseDiv")}b.reset(a)};HeadPanel.prototype.resize=function(e,d,g){var c=this;var f=this.panelDiv.style("height");var a=this.panelDiv.style("height",null).style("height");this.panelDiv.style("height",f);var b=d*(global.panelWidth+2*this.panelMargin)-2*this.panelMargin;this.panelDiv.transition().duration(e).style("width",b+"px").style("height",a).each("end",function(){c.panelDiv.selectAll(".halfHead").classed("vertical",(d===1)?true:false);g()})};HeadPanel.prototype.reset=function(a){var b=this;b.panelDiv.selectAll(".divTableBase").attr("class",null).style("width",function(){return d3.select(this).style("width")}).style("position","absolute").transition().duration(global.selfDuration).style("opacity","0").remove();b.divTableBase=b.divBase.append("html:div").attr("class","divTableBase "+a).style("opacity",0);b.divTableBase.transition().duration(global.selfDuration).style("opacity",1)};HeadPanel.prototype.killListeners=function(){this.panelDiv.selectAll(".listener").on("click",null).on("mouseover",null).on("mouseout",null)};HeadPanel.prototype.killPanel=function(c){if(c===undefined||c===this.panelId){this.killListeners();for(var b=0,a=this.mediatorIds.length;b<a;b++){this.mediator.remove(this.mediatorIds[b].channel,this.mediatorIds[b].id)}this.mediatorIds=[];this.mediator=undefined}};